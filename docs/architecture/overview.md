# Architectural Overview

<!-- vscode-markdown-toc -->
* 1. [Based on cmi5 and xAPI Specs](#Basedoncmi5andxAPISpecs)
* 2. [Navigator](#Navigator)
* 3. [Course Structure](#CourseStructure)
* 4. [Course Unit](#CourseUnit)
* 5. [Reporter](#Reporter)
	* 5.1. [State API](#StateAPI)
	* 5.2. [Statement API](#StatementAPI)
* 6. [Observer](#Observer)

<!-- vscode-markdown-toc-config
	numbering=true
	autoSave=true
	/vscode-markdown-toc-config -->
<!-- /vscode-markdown-toc -->

##  1. <a name='Basedoncmi5andxAPISpecs'></a>Based on cmi5 and xAPI Specs

This proposed architecture heavily borrows concepts from [cmi5](https://github.com/AICC/CMI-5_Spec_Current/blob/quartz/cmi5_spec.md) and [xAPI](https://github.com/adlnet/xAPI-Spec) specifications. However, it doesn't actually implement them and doesn't aim to comply with them (at least, as of now).

As it stands, the data structures and mechanisms are similar to those expected by these specifications. This gap is expected be bridged by an addon where cmi5/xAPI compliance or compatibility is needed. There are two reasons for this:

 1. As a WordPress plugin, it is important to reuse readymade elements of WordPress's architecture. Often this is in contrast to what is specified in these specifications. For example, the [launch mechanism](https://github.com/AICC/CMI-5_Spec_Current/blob/quartz/cmi5_spec.md#content_launch) of cmi5 makes no sense in a WordPress environment.

1. The vast majority of LifterLMS users are not looking for such compliance.

> If and when such compliance becomes a fundamental need, such compliance will obviously make its way into core.

> ### A note on terminology wrt to cmi5/xAPI:
>
> LifterLMS is a single integrated entity of what cmi5/xAPI describe as *LMS*, *Activity Provider* and *LRS*. Additionally, to prevent confusion with existing WordPress terminology (eg course `blocks` in cmi5 vs editor `blocks` in WP) or legacy LifterLMS terminology (sections), a lot of terminology has been deliberately changed.

The learning process can be completely described as an interplay between:

1. Navigator Module
1. Course Structure
1. Course Unit
1. Reporter Module
    1. State API
    1. Statement API
1. Observer Module


##  2. <a name='Navigator'></a>Navigator

> cmi5/xAPI equivalent: _LMS_

This is a core module that

* loads the `Course Structure`
* creates a `state` using the _State API_
* launches the `course unit`
* writes `statements` using the _Statement API_

Like its name suggests, it helps a learner (or another stakeholder) _navigate_ the course during the learning process.

##  3. <a name='CourseStructure'></a>Course Structure

> cmi5/xAPI equivalent: _Course Structure_

This is an object (json, php or xml) that desribes the organisation of a course. It contains course elements called `sections`, `units` and `objectives`. It is important to note that these course elements are simply references to the actual content which is stored and managed as separate objects.

This allows the content of the course elements to be reused in multiple courses. This also allows variations of course elements (different content for different languages, for example).

##  4. <a name='CourseUnit'></a>Course Unit

> cmi5/xAPI equivalent: _Assignable Unit_ (AU) or _Activity Provider_

This contains a `reference` to the actual learning content that the learner (or other stakeholders) can interact with.

Simply called `unit`, it

* reads the `state` (created & provided by the `navigator`)
* loads the learning content that it references using information composed of
    * its own attributes
    * the current `state`
    * the `content` object's attributes
* communicates information back and forth with `navigator`
* writes `statements` using the _Statement API_

##  5. <a name='Reporter'></a>Reporter

> cmi5/xAPI equivalent: _Learning Record Store_ (LRS)

This core module consists of the State and the Statement APIs. Additionally, it is responsible for presenting reports using the stored `states` and `statements`.

###  5.1. <a name='StateAPI'></a>State API

> cmi5/xAPI equivalent: _State API_

This manages CRUD operations for `state` records generated by `navigator`.

###  5.2. <a name='StatementAPI'></a>Statement API

> cmi5/xAPI equivalent: _Statement API_

This manages CRUD operations for `statement` records generated by `navigator` and `units`.

##  6. <a name='Observer'></a>Observer

> cmi5/xAPI equivalent: _NA_

This module is responsible for tracking `statements` generated by `navigator` and `unit` and triggering `notifications` and other `engagements`.

In future, this module will also be responsible for an _Objective API_ that tracks completion of `objectives`, and achievement of _milestones_ and _goals_ (_certificates_, _emails_, _notifications_, _points_, _badges_, etc).

> Other modules and APIs that are expected to be developed, including but not limited to
> * Support & Feedback – for QnAs, helpdesk, annotations, surveys, ratings, reviews, etc
> * Gamification – for managing goals and objectives, and their achievement.
> * Instruction – a _mode_ for instructors and other stakeholders for in situ grading and reports while navigating the course.
