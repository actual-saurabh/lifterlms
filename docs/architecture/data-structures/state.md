# State

## Introduction

The `state` in this architecture is pretty much the same as the `state` of the WordPress application and has a one to one correspondence with a `post` in WordPress.

In this sense, a state is a record of the launch a `unit` (opening of a lesson, attempting a quiz question).

The second function of the state is to provide the necessary environmental information for the `unit`.

After launch, a `unit` may or may not generate one or more `activities` or `statements`. In this sense, a `state` is a record of the course progression, unit by unit.

So, state records give a full picture of what happened during the instance of a course along with statements for tracking and reporting.

States are generated by the core module partly using information from the _course structure_.

## Data Structure

```js
{
    "state_activity_id": 1, // {autoincrement from db, will be used by unit as the object_id in the statements it generates},
    "actor": ,
    "registration": ,
    "launch_data": {
        "context_template": Template_Object, //json describing a schema for context
        "launch_mode": "normal" //, "browse", "review"(, "mentor"),
        "launch_parameters": Custom_Object,
        "mastery_score": 0-1,
        "move_on": "passed", //"completed", "completed_and_passed", "completed_or_passed", "not_applicable",
        "return_url": "some_url", // where the unit should redirect to on exit
        "role": {"identifier of the composite role generated for the WP_User from Role, Post, etc"},
    },
}
